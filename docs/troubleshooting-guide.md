# Troubleshooting Guide

This guide covers some common issues you might encounter using Sphinx. If your question isn't answered here, please reach out in the [Discord](https://discord.gg/7Gc3DK33Np).

## Table of Contents

- [The `sphinx generate` yields compilation failures related to autogenerated Sphinx clients](#the-sphinx-generate-yields-compilation-failures-related-to-autogenerated-sphinx-clients)
- [`Ineffective mark-compacts near heap limit allocation failed` error](#ineffective-mark-compacts-near-heap-limit-allocation-failed-error)
- [`No bytecode for contract. Is it abstract or unlinked?` error](#no-bytecode-for-contract-is-it-abstract-or-unlinked-error)
- [Cannot find the deployment function for contract](#cannot-find-the-deployment-function-for-my-contract-in-sphinxclient)

## The `sphinx generate` yields compilation failures related to autogenerated Sphinx clients
The `sphinx generate` command automatically skips compiling any script and test files to avoid compilation failures like this. If you do encounter this, it is likely because you have a Foundry script or test file that imports clients but does not use the standard `.s.sol` or `.t.sol` suffixes. You should check that all of your test and script files are using the proper suffix.

## `Ineffective mark-compacts near heap limit allocation failed` error
This bug can sometimes occur in projects that have a very large number of contracts in them. This causes your build info files to be extremely large, which can cause memory issues when using Sphinx. You can resolve this issue by running `forge clean`, which clears the artifacts directory, including the build info files.

## `No bytecode for contract. Is it abstract or unlinked?` error
This error occurs because you are using a contract that requires an externally linked library, which is a library that contains at least one function with `public` or `external` visibility. These types of libraries are not currently supported by Sphinx. If possible, consider changing the functions in your library to have internal or private visibility. If this is a blocking issue for you, please let us know.

To understand the difference between external and internal libraries, you can refer to [this blog post](https://eip2535diamonds.substack.com/p/the-difference-between-solidity-libraries) that provides an in-depth explanation.

## Cannot find the autogenerated deployment function for a contract
If your repository contains more than one contract with the same name, we resolve this ambiguity by using the fully qualified name as the function name.

For example, say you have two contracts called `MyContract`, where one is located at `path/to/File.sol` and the other is located at `other/path/to/File.sol`. The deployment function for the first contract would be:

```
function deployPathToFile_MyContract(...) external returns (...)
```

The deployment function for the second contract would be:
```
function deployOtherPathToFile_MyContract(...) external returns (...)
```
