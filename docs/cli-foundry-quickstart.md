# Quickstart
This guide will show you how to setup a fresh Sphinx project, deploy contracts, and run tests. Once you've finished this guide, the next guide will give you more details on how you can write your own deployment scripts using Sphinx.

> For a guide on adding Sphinx to an existing project, click [here](https://github.com/sphinx-labs/sphinx/blob/develop/docs/cli-foundry-existing-project.md).

## Table of Contents

1. [Prerequisites](#1-prerequisites)
2. [Update Foundry](#2-update-foundry)
3. [Install Sphinx](#3-install-sphinx)
4. [Initialize a project](#4-initialize-a-project)
5. [Generate Sphinx clients](#5-generate-sphinx-clients)
6. [Run the tests](#6-run-the-tests)
7. [Deploy on Anvil](#7-deploy-on-anvil)

## 1. Prerequisites

The following must be installed on your machine:
- [Foundry](https://book.getfoundry.sh/getting-started/installation)
- [Yarn](https://classic.yarnpkg.com/lang/en/docs/install/) or [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)

You must also have a basic understanding of Foundry. See [here](https://book.getfoundry.sh/getting-started/first-steps) for a brief introduction.

## 2. Update Foundry

Make sure you're using the latest version of Foundry.

```
foundryup
```

## 3. Install Sphinx

First, navigate to a fresh directory.

```
mkdir hello_sphinx && cd hello_sphinx
```

Install Sphinx using either Yarn or npm.

Yarn:
```
yarn add --dev @sphinx-labs/plugins
```

npm:
```
npm install --save-dev @sphinx-labs/plugins
```

## 4. Initialize a project

```
npx sphinx init --quickstart
```

This command created a few files:
- `src/HelloSphinx.sol`: A sample contract to deploy.
- `test/HelloSphinx.t.sol`: A test file for the deployment.
- `script/HelloSphinx.s.sol`: A sample Sphinx deployment script.
- `foundry.toml`: The Foundry config file, which contains a few settings that are needed to run Sphinx. TODO(md): rm?: It also contains public RPC endpoints for several of the networks that Sphinx supports.
- `.env`: A sample `.env` file that contains a valid private key on Anvil.

## 5. Generate Sphinx clients
Sphinx uses autogenerated contract clients to deploy and interact with your contracts, generate them with the following command:

```
npx sphinx generate
```

Sphinx scripts are written using Sphinx client contracts instead of using your contracts directly. The above command generates these clients into a new `client` folder. You'll learn more about Sphinx clients in the [Writing Scripts with Sphinx](TODO) guide.

## 6. Run the tests

Run the test file at `test/HelloSphinx.t.sol`:

```
forge test
```

## 7. Deploy on Anvil

Whenever a deployment is broadcasted, Sphinx will automatically generate deployment artifacts, which
are in the same format as [`hardhat-deploy`](https://github.com/wighawag/hardhat-deploy).

First, start an Anvil node:
```
anvil
```

Then deploy on Anvil using the `deploy` command:
```
npx sphinx deploy ./script/HelloSphinx.s.sol --network anvil
```

You'll be shown a preview of your deployment and prompted to confirm. Once the deployment completes, you'll find the deployment artifacts written to `./deployments/anvil-31337.json`.

## 9. Next steps

[Writing Deployment Scripts with Sphinx](https://github.com/sphinx-labs/sphinx/blob/develop/docs/writing-sphinx-scripts.md): Learn about writing your own deployment scripts using Sphinx.
