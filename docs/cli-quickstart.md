# Getting Started in a New Repository

This guide will show you how to set up Sphinx's Foundry CLI plugin in a fresh repository. We'll create a sample project then test and deploy it locally.

## Table of Contents

1. [Prerequisites](#1-prerequisites)
2. [Update Foundry](#2-update-foundry)
3. [Create a new directory](#3-create-a-new-directory)
4. [Install dependencies](#4-install-dependencies)
5. [Initialize a project](#5-initialize-a-project)
6. [Test the deployment](#6-test-the-deployment)
7. [Next steps](#7-next-steps)

## 1. Prerequisites

The following must be installed on your machine:
- [Foundry](https://book.getfoundry.sh/getting-started/installation)
- [Yarn](https://classic.yarnpkg.com/lang/en/docs/install/), [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm), or [pnpm](https://pnpm.io/installation)
- [Node Version >=16.16.0](https://nodejs.org/en/download). (Run `node -v` to see your current version).

You must also have a basic understanding of how to use Foundry and Forge scripts. Here are the relevant guides in the Foundry docs:
* [Getting Started with Foundry](https://book.getfoundry.sh/getting-started/first-steps)
* [Writing Deployment Scripts with Foundry](https://book.getfoundry.sh/tutorials/solidity-scripting)

## 2. Update Foundry

```
foundryup
```

## 3. Create a new directory

In your terminal, navigate to the directory where you'd like to create your project. Then, create a new directory:

```
mkdir hello_sphinx && cd hello_sphinx
```

## 4. Install dependencies

Install Sphinx, forge-std, and ds-test using your preferred package manager.

Yarn:
```
yarn add --dev @sphinx-labs/plugins https://github.com/foundry-rs/forge-std.git#v1.7.1 https://github.com/dapphub/ds-test.git#e282159d5170298eb2455a6c05280ab5a73a4ef0
```

npm:
```
npm install --save-dev @sphinx-labs/plugins https://github.com/foundry-rs/forge-std.git#v1.7.1 https://github.com/dapphub/ds-test.git#e282159d5170298eb2455a6c05280ab5a73a4ef0
```

pnpm:
```
pnpm add -D @sphinx-labs/plugins https://github.com/foundry-rs/forge-std.git#v1.7.1 https://github.com/dapphub/ds-test.git#e282159d5170298eb2455a6c05280ab5a73a4ef0
```

## 5. Initialize a project

Using Yarn or npm:

```
npx sphinx init --quickstart
```

Using pnpm:

```
pnpm sphinx init --quickstart --pnpm
```

This command created a few files:
- `src/HelloSphinx.sol`: A sample contract to deploy.
- `test/HelloSphinx.t.sol`: A test file for the deployment.
- `script/HelloSphinx.s.sol`: A sample Sphinx deployment script.
- `foundry.toml`: The Foundry config file, which contains a few settings required by Sphinx.
- `.env`: A sample `.env` file that contains a valid private key on Anvil.
- `.gitignore`: A sample `.gitignore` file that contains files and directories generated by Sphinx, Foundry, and Node.

## 6. Test the deployment

```
forge test
```

## 7. Next steps

If you'd like to try out the DevOps platform, see the [Sphinx DevOps Platform guide](https://github.com/sphinx-labs/sphinx/blob/main/docs/ops-getting-started.md).

If you'd like to learn more about writing deployment scripts with Sphinx, see the [Writing Deployment Scripts guide](https://github.com/sphinx-labs/sphinx/blob/main/docs/writing-scripts.md).
